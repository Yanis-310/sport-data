<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accéder au haut niveau : les régions où les jeunes ont le plus de chances</title>
    <link href="./style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        .article-page {
            max-width: 1100px;
            margin: 30px auto 80px;
            padding: 0 16px;
            text-align: left;
        }

        .article-page header h1 {
            font-size: 2rem;
            line-height: 1.2;
            margin-bottom: 10px;
        }

        .kicker {
            color: #d71900;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: .5px;
            font-size: .9rem;
        }

        .chapeau {
            font-size: 1.1rem;
            color: #4a5568;
            margin: 12px 0 18px;
        }

        .meta-note {
            color: #6b7280;
            font-size: .9rem;
            margin-bottom: 22px;
        }

        .article-page h2 {
            font-size: 1.4rem;
            margin: 28px 0 10px;
        }

        .article-page p {
            color: #2d3748;
            line-height: 1.7;
            margin: 10px 0;
        }

        .callout {
            background: #fff8f6;
            border-left: 4px solid #d71900;
            padding: 12px 14px;
            border-radius: 8px;
            color: #4a5568;
            margin: 14px 0;
        }

        .figure {
            margin: 26px 0;
            background: #fff;
            border: 1px solid #edf2f7;
            border-radius: 12px;
            padding: 14px;
        }

        .figure h3 {
            margin: 6px 0 12px;
            font-size: 1rem;
            color: #1f2937;
        }

        .caption {
            color: #6b7280;
            font-size: .9rem;
            margin-top: 8px;
        }

        #chart_div {
            width: 100%;
            height: 600px;
            margin: 20px 0;
            position: relative;
        }

        .chart-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 12px 16px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }

        .chart-info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .chart-info-label {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 500;
        }

        .chart-info-value {
            font-size: 1.1rem;
            color: #1f2937;
            font-weight: 700;
        }

        #map {
            height: 600px;
            width: 100%;
            margin: 20px 0;
            border: 1px solid #edf2f7;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .map-legend {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            font-size: 12px;
            min-width: 200px;
        }

        .map-legend h4 {
            margin: 0 0 10px 0;
            font-size: 13px;
            font-weight: 700;
            color: #1f2937;
        }

        .legend-scale {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .legend-gradient {
            height: 20px;
            flex: 1;
            border-radius: 4px;
            background: linear-gradient(to right, #dc2626, #f59e0b, #22c55e);
        }

        .legend-labels {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #6b7280;
            margin-top: 4px;
        }

        .leaflet-popup-content-wrapper {
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .leaflet-popup-content {
            margin: 15px;
            font-size: 13px;
            line-height: 1.6;
        }

        .leaflet-popup-content strong {
            color: #d71900;
            font-size: 14px;
            display: block;
            margin-bottom: 8px;
        }

        .leaflet-popup-content p {
            margin: 4px 0;
            color: #4a5568;
        }

        .figure-footer {
            text-align: center;
            font-size: 11px;
            color: #6b7280;
            margin-top: 10px;
            line-height: 1.4;
        }

        .related-articles {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 2px solid #e6e9ef;
        }

        .related-articles h2 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #111;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .related-card {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .related-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .related-card .media {
            display: block;
            aspect-ratio: 16/10;
            background: #e9ecef;
        }

        .related-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .related-card .content {
            padding: 12px 14px 10px;
        }

        .related-card .category {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #657286;
            font-size: 0.8rem;
            margin-bottom: 6px;
        }

        .related-card .category .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #ffb100;
            display: inline-block;
        }

        .related-card .title {
            font-size: 0.95rem;
            line-height: 1.3;
            margin: 2px 0 6px;
        }

        .related-card .title a {
            color: #111;
            text-decoration: none;
        }

        .related-card .title a:hover {
            text-decoration: underline;
        }

        .related-card .excerpt {
            color: #4a5668;
            font-size: 0.85rem;
            line-height: 1.4;
            margin-bottom: 0;
        }

        @media (max-width: 800px) {
            #chart_div {
                height: 500px;
            }

            #map {
                height: 500px;
            }

            .chart-info {
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }

            .chart-info-item {
                width: 100%;
            }
        }

        @media (max-width: 640px) {
            .related-grid {
                grid-template-columns: 1fr;
            }

            #chart_div {
                height: 400px;
            }

            #map {
                height: 400px;
            }
        }
    </style>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
    <nav class="nav-topbar">
        <div class="nav-topbar-inner">
            <a href="./index.html" class="nav-logo">
                <img src="/LOGO-SPORT-AREA-V2.png" alt="L'ÉQUIPE">
            </a>
            <div class="nav-right">
                <a href="#subscribe" class="nav-btn-subscribe">s'abonner</a>
                <a href="#login" class="nav-btn-login"><i class="far fa-user"></i> Se connecter</a>
            </div>
        </div>
    </nav>

    <main class="article-page">
        <header>
            <div class="kicker">Formation</div>
            <h1>Accéder au haut niveau : les régions où les jeunes ont le plus de chances d'intégrer un centre de
                formation</h1>
            <p class="chapeau">En France, le rêve de devenir footballeur professionnel passe presque obligatoirement par
                un centre de formation agréé. Pourtant, selon la région où il évolue, un jeune licencié n'a pas les
                mêmes chances d'y accéder.</p>
        </header>

        <section>
            <p>Les données de la FFF pour l'année 2023 montrent un écart important entre le nombre de joueurs inscrits
                et les infrastructures disponibles. Certaines régions disposent de nombreux jeunes mais très peu de
                centres, ce qui crée une forte concurrence et réduit les perspectives d'accès au haut niveau. D'autres
                régions, avec un meilleur équilibre, offrent des conditions plus favorables. Cette répartition inégale
                interroge sur l'égalité des chances dans le sport français.</p>

            <section class="figure">
                <h3>Jeunes licenciés FFF et centres de formation certifiés FFF par région (2023)</h3>
                <div id="chart_div"></div>
                <p class="caption">Ce graphique compare le nombre total de jeunes licenciés U6-U19 au nombre de centres
                    de formation disponibles dans chaque région. Lorsque la barre représentant les joueurs est beaucoup
                    plus haute que celle des centres, la sélection devient très compétitive.</p>
                <div class="figure-footer">
                    Sources : Fédération Française de Football (FFF), Statistiques des licences par région – 2023 et
                    liste des centres de formation agréés.<br>
                    Ministère des Sports et INJEP, rapports sur l'accès à la performance sportive en France.<br>
                    Consultations complémentaires : L'Équipe, SoFoot (contexte journalistique).
                </div>
            </section>

            <section class="figure">
                <h3>Pourcentage de jeunes licenciés FFF intégrant un centre de formation par région (2023)</h3>
                <div id="map"></div>
                <p class="caption">Cette carte indique, en pourcentage, la probabilité estimée pour un jeune licencié
                    d'intégrer un centre de formation dans sa région. Plus le pourcentage est faible, plus l'accès au
                    haut niveau est difficile, malgré le talent ou l'investissement des joueurs.</p>
                <div class="figure-footer">
                    Sources : Fédération Française de Football (FFF), Statistiques des licences par région – 2023 et
                    liste des centres de formation agréés.<br>
                    Ministère des Sports et INJEP, rapports sur l'accès à la performance sportive en France.<br>
                    Consultations complémentaires : L'Équipe, SoFoot (contexte journalistique).
                </div>
            </section>

            <p>Les inégalités d'accès aux centres de formation s'expliquent avant tout par une répartition déséquilibrée
                des clubs professionnels sur le territoire. Les régions où ils sont nombreux, comme les Hauts-de-France
                ou la Bretagne, offrent plus de places et donc davantage de chances. À l'inverse, dans des zones très
                peuplées mais avec peu de centres comme l'Île-de-France, beaucoup de jeunes se retrouvent en
                concurrence. Selon l'endroit où il grandit, un joueur ne bénéficie donc pas des mêmes opportunités
                d'atteindre le haut niveau.</p>
        </section>

        <section class="related-articles">
            <h2>Articles qui pourraient vous intéresser</h2>
            <div class="related-grid">
                <article class="related-card">
                    <a class="media" href="./article1.html" aria-label="Lire l'article sur le coût du rêve sportif">
                        <img src="./pexels-bk-aguilar-296797-945471.jpg" alt="Sportif professionnel">
                    </a>
                    <div class="content">
                        <div class="category"><span class="dot"></span><span>Analyse, Financement</span></div>
                        <h3 class="title"><a href="./article1.html">Devenir sportif pro en France : le coût du rêve qui
                                vous ruinera… ou vous enrichira !</a></h3>
                        <p class="excerpt">Découvrez quel sport offre vraiment le meilleur retour sur investissement et
                            vos chances réelles de passer professionnel.</p>
                    </div>
                </article>

                <article class="related-card">
                    <a class="media" href="./article3.html" aria-label="Lire l'article sur la génération canapé">
                        <img src="./pexels-amar-19786212.jpg" alt="Jeunes et écrans">
                    </a>
                    <div class="content">
                        <div class="category"><span class="dot"></span><span>Santé, Jeunesse</span></div>
                        <h3 class="title"><a href="./article3.html">La génération canapé: les jeunes bougeront-ils assez
                                pour éviter le pire ?</a></h3>
                        <p class="excerpt">73 % des 11-17 ans ne bougent pas assez selon l'OMS. Les écrans et la
                            sédentarité menacent la santé des jeunes.</p>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <script type="text/javascript">
        google.charts.load('current', { 'packages': ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var rawData = [
                ['Hauts-de-France', 190000, 5],
                ['Occitanie', 170000, 4],
                ['Bretagne', 130000, 3],
                ['Auvergne-Rhône-Alpes', 200000, 5],
                ['Nouvelle-Aquitaine', 180000, 4],
                ['Pays de la Loire', 140000, 3],
                ['Île-de-France', 300000, 6],
                ['Provence-Alpes-Côte d\'Azur', 150000, 3],
                ['Normandie', 110000, 2],
                ['Grand Est', 160000, 3],
                ['Centre-Val de Loire', 60000, 1],
                ['Bourgogne-Franche-Comté', 70000, 1]
            ];

            // Calculer les totaux et ratios
            var totalLicenciés = rawData.reduce(function (sum, row) { return sum + row[1]; }, 0);
            var totalCentres = rawData.reduce(function (sum, row) { return sum + row[2]; }, 0);
            var ratioMoyen = Math.round(totalLicenciés / totalCentres);

            // Créer les données avec annotations améliorées
            var dataRows = rawData.map(function (row) {
                var ratio = Math.round(row[1] / row[2]);
                return [
                    row[0],
                    row[1],
                    row[2],
                    row[2] + ' centres', // Annotation pour les centres
                    ratio + ' licenciés/centre' // Annotation pour le ratio
                ];
            });

            // Construire le tableau de données
            var dataArray = [
                ['Région', 'Jeunes licenciés', 'Centres de formation', { role: 'annotation', type: 'string' }, { role: 'tooltip', type: 'string' }]
            ];

            dataRows.forEach(function (row) {
                dataArray.push([
                    row[0],
                    row[1],
                    row[2],
                    row[3],
                    row[0] + '\\n' +
                    'Jeunes licenciés: ' + row[1].toLocaleString('fr-FR') + '\\n' +
                    'Centres de formation: ' + row[2] + '\\n' +
                    'Ratio: ' + row[4]
                ]);
            });

            var data = google.visualization.arrayToDataTable(dataArray);

            var options = {
                title: '',
                titleTextStyle: { fontSize: 18, bold: true, color: '#1f2937' },
                animation: {
                    startup: true,
                    duration: 1000,
                    easing: 'out'
                },
                series: {
                    0: {
                        targetAxisIndex: 0,
                        color: '#3b82f6',
                        type: 'bars'
                    },
                    1: {
                        targetAxisIndex: 1,
                        color: '#d71900',
                        type: 'bars'
                    }
                },
                vAxes: {
                    0: {
                        title: 'Jeunes licenciés',
                        minValue: 0,
                        format: 'short',
                        titleTextStyle: {
                            bold: true,
                            color: '#3b82f6',
                            fontSize: 13
                        },
                        textStyle: {
                            color: '#6b7280',
                            fontSize: 11
                        },
                        gridlines: {
                            color: '#e5e7eb',
                            count: 6
                        }
                    },
                    1: {
                        title: 'Centres de formation',
                        minValue: 0,
                        maxValue: 7,
                        titleTextStyle: {
                            bold: true,
                            color: '#d71900',
                            fontSize: 13
                        },
                        textStyle: {
                            color: '#6b7280',
                            fontSize: 11
                        },
                        gridlines: {
                            color: 'transparent'
                        }
                    }
                },
                hAxis: {
                    title: 'Régions',
                    titleTextStyle: {
                        bold: true,
                        color: '#4a5568',
                        fontSize: 13
                    },
                    textStyle: {
                        color: '#6b7280',
                        fontSize: 11
                    },
                    slantedText: true,
                    slantedTextAngle: 45,
                    gridlines: {
                        color: 'transparent'
                    }
                },
                legend: {
                    position: 'top',
                    alignment: 'center',
                    textStyle: {
                        color: '#4a5568',
                        fontSize: 12,
                        bold: true
                    }
                },
                bar: {
                    groupWidth: '65%'
                },
                annotations: {
                    alwaysOutside: false,
                    textStyle: {
                        fontSize: 11,
                        bold: true,
                        color: '#1f2937',
                        auraColor: 'white',
                        auraWidth: 2
                    }
                },
                tooltip: {
                    textStyle: {
                        fontSize: 12,
                        color: '#1f2937'
                    },
                    trigger: 'focus',
                    isHtml: true
                },
                backgroundColor: {
                    fill: 'transparent',
                    stroke: '#e5e7eb',
                    strokeWidth: 1
                },
                chartArea: {
                    left: 110,
                    top: 60,
                    right: 80,
                    bottom: 140,
                    width: '100%',
                    height: '70%'
                },
                focusTarget: 'category',
                enableInteractivity: true
            };

            // Ajouter les informations en haut du graphique avant de le dessiner
            var chartContainer = document.getElementById('chart_div');
            var parentContainer = chartContainer.parentNode;
            var infoDiv = document.createElement('div');
            infoDiv.className = 'chart-info';
            infoDiv.innerHTML = `
                <div class="chart-info-item">
                    <span class="chart-info-label">Total jeunes licenciés</span>
                    <span class="chart-info-value" style="color: #3b82f6;">${totalLicenciés.toLocaleString('fr-FR')}</span>
                </div>
                <div class="chart-info-item">
                    <span class="chart-info-label">Total centres de formation</span>
                    <span class="chart-info-value" style="color: #d71900;">${totalCentres}</span>
                </div>
                <div class="chart-info-item">
                    <span class="chart-info-label">Ratio moyen</span>
                    <span class="chart-info-value" style="color: #1f2937;">${ratioMoyen.toLocaleString('fr-FR')} licenciés/centre</span>
                </div>
            `;
            parentContainer.insertBefore(infoDiv, chartContainer);

            var chart = new google.visualization.ColumnChart(chartContainer);
            chart.draw(data, options);

            // Redimensionner le graphique lors du redimensionnement de la fenêtre
            window.addEventListener('resize', function () {
                chart.draw(data, options);
            });
        }
    </script>

    <script>
        var map = L.map('map', {
            zoomControl: true,
            scrollWheelZoom: true
        }).setView([46.5, 2.5], 6);

        // Style de carte plus moderne (CartoDB Positron)
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);

        var regionsData = {
            "Hauts-de-France": { licenciés: 190000, centres: 5, pourcentage: 0.002632 },
            "Occitanie": { licenciés: 170000, centres: 4, pourcentage: 0.002353 },
            "Bretagne": { licenciés: 130000, centres: 3, pourcentage: 0.002308 },
            "Auvergne-Rhône-Alpes": { licenciés: 200000, centres: 5, pourcentage: 0.002500 },
            "Nouvelle-Aquitaine": { licenciés: 180000, centres: 4, pourcentage: 0.002222 },
            "Pays de la Loire": { licenciés: 140000, centres: 3, pourcentage: 0.002143 },
            "Île-de-France": { licenciés: 300000, centres: 6, pourcentage: 0.002000 },
            "Provence-Alpes-Côte d'Azur": { licenciés: 150000, centres: 3, pourcentage: 0.002000 },
            "Normandie": { licenciés: 110000, centres: 2, pourcentage: 0.001818 },
            "Grand Est": { licenciés: 160000, centres: 3, pourcentage: 0.001875 },
            "Centre-Val de Loire": { licenciés: 60000, centres: 1, pourcentage: 0.001667 },
            "Bourgogne-Franche-Comté": { licenciés: 70000, centres: 1, pourcentage: 0.001429 }
        };

        function getColor(p) {
            var min = 0.001429;
            var max = 0.002632;
            var ratio = (p - min) / (max - min);

            // Dégradé de rouge (faible) à orange (moyen) à vert (élevé)
            if (ratio < 0.5) {
                // Rouge vers Orange
                var localRatio = ratio * 2;
                var r = 220;
                var g = Math.round(38 + (158 - 38) * localRatio);
                var b = 38;
            } else {
                // Orange vers Vert
                var localRatio = (ratio - 0.5) * 2;
                var r = Math.round(220 - (220 - 34) * localRatio);
                var g = Math.round(158 + (197 - 158) * localRatio);
                var b = Math.round(38 + (34 - 38) * localRatio);
            }
            return `rgb(${r},${g},${b})`;
        }

        // Créer la légende
        var legend = L.control({ position: 'bottomright' });
        legend.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'map-legend');
            div.innerHTML = `
                <h4>Probabilité d'accès</h4>
                <div class="legend-scale">
                    <div class="legend-gradient"></div>
                </div>
                <div class="legend-labels">
                    <span>0.14%</span>
                    <span>0.26%</span>
                </div>
            `;
            return div;
        };
        legend.addTo(map);

        axios.get('https://raw.githubusercontent.com/gregoiredavid/france-geojson/master/regions.geojson')
            .then(function (response) {
                var geojson = response.data;

                L.geoJson(geojson, {
                    style: function (feature) {
                        var name = feature.properties.nom;
                        var p = regionsData[name] ? regionsData[name].pourcentage : 0.0015;
                        return {
                            color: '#ffffff',
                            weight: 2.5,
                            fillColor: getColor(p),
                            fillOpacity: 0.75,
                            dashArray: '0'
                        };
                    },
                    onEachFeature: function (feature, layer) {
                        var name = feature.properties.nom;
                        var data = regionsData[name];
                        if (data) {
                            var popupContent = `
                                <div style="font-family: Arial, sans-serif;">
                                    <strong style="color: #d71900; font-size: 15px; display: block; margin-bottom: 10px; border-bottom: 2px solid #e6e9ef; padding-bottom: 6px;">${name}</strong>
                                    <p style="margin: 6px 0; color: #4a5568;">
                                        <span style="font-weight: 600; color: #1f2937;">Jeunes licenciés:</span><br>
                                        <span style="font-size: 16px; color: #3b82f6; font-weight: 700;">${data.licenciés.toLocaleString('fr-FR')}</span>
                                    </p>
                                    <p style="margin: 6px 0; color: #4a5568;">
                                        <span style="font-weight: 600; color: #1f2937;">Centres de formation:</span><br>
                                        <span style="font-size: 16px; color: #d71900; font-weight: 700;">${data.centres}</span>
                                    </p>
                                    <p style="margin: 8px 0 0 0; padding-top: 8px; border-top: 1px solid #e6e9ef; color: #4a5568;">
                                        <span style="font-weight: 600; color: #1f2937;">Probabilité d'accès:</span><br>
                                        <span style="font-size: 18px; color: #22c55e; font-weight: 700;">${(data.pourcentage * 100).toFixed(4)} %</span>
                                    </p>
                                </div>
                            `;
                            layer.bindPopup(popupContent, {
                                maxWidth: 250,
                                className: 'custom-popup'
                            });
                        } else {
                            layer.bindPopup(`<strong>${name}</strong><br>Pas de données disponibles`);
                        }
                        layer.on({
                            mouseover: function (e) {
                                var layer = e.target;
                                layer.setStyle({
                                    weight: 4,
                                    fillOpacity: 0.9,
                                    color: '#1f2937'
                                });
                                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                                    layer.bringToFront();
                                }
                            },
                            mouseout: function (e) {
                                var geojsonLayer = e.target;
                                var name = geojsonLayer.feature.properties.nom;
                                var p = regionsData[name] ? regionsData[name].pourcentage : 0.0015;
                                geojsonLayer.setStyle({
                                    weight: 2.5,
                                    fillOpacity: 0.75,
                                    color: '#ffffff'
                                });
                            }
                        });
                    }
                }).addTo(map);
            })
            .catch(function (error) {
                console.error('Erreur lors du chargement de la carte:', error);
            });
    </script>
</body>

</html>